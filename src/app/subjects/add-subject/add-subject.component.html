<h2 mat-dialog-title>Rendre le devoir</h2>
<form ngForm #formAddSubject (submit)="addNewSubject()">
  <mat-dialog-content>
    <div class="form">
      <mat-form-field>
        <mat-label>Intitul√©</mat-label>
        <input type="text" matInput [(ngModel)]="name" name="name" required />
      </mat-form-field>
      <div>
        @if (progress) {
        <mat-toolbar class="progress-bar">
          <mat-progress-bar
            color="accent"
            [value]="progress"
          ></mat-progress-bar>
          <span class="progress">{{ progress }}%</span>
        </mat-toolbar>
        }

        <mat-form-field>
          <div>
            <mat-toolbar>
              <input
                matInput
                [value]="fileName"
                [ngStyle]="{ fontSize: '16px', fontWeight: 'normal' }"
              />
            </mat-toolbar>

            <input
              type="file"
              id="fileInput"
              accept="image/*"
              (change)="selectFile($event)"
              name="fileInput"
            />
          </div>
        </mat-form-field>
      </div>
      @if (preview!=='') {
      <div>
        <img [src]="preview" class="width-img" />
      </div>
      } @if (loading) {
      <div class="center">
        <mat-progress-spinner
          diameter="40"
          mode="indeterminate"
        ></mat-progress-spinner>
      </div>
      }
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button mat-dialog-close type="button">Annuler</button>
    <button
      mat-button
      color="primary"
      type="submit"
    >
      Enregistrer
    </button>
  </mat-dialog-actions>
</form>
